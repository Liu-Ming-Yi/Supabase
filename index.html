<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supabase å°ˆé¡Œçµ„å“¡åˆ—è¡¨</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1 { color: #34495e; }
        ul { list-style: none; padding: 0; }
        li { background-color: #ecf0f1; margin-bottom: 5px; padding: 10px; border-radius: 4px; }
    </style>
</head>
<body>

    <h1>TblMember çµ„å“¡å§“ååˆ—è¡¨</h1>
    <p id="loading-status">è¼‰å…¥ä¸­...</p>
    <ul id="member-list">
        </ul>

    <script>
        // ğŸš¨ æ›¿æ›æˆæ‚¨åœ¨ Supabase å„€è¡¨æ¿ä¸Šå–å¾—çš„å¯¦éš›é‡‘é‘°
        const SUPABASE_URL = 'https://qfhiycrkhiivpindmddw.supabase.co';
        const SUPABASE_ANON_KEY = 'sb_publishable_mNL9sv-beffUtko744-GCw_MIjHTyEr';
        
        // 1. åˆå§‹åŒ– Supabase å®¢æˆ¶ç«¯
        const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
        
        const memberList = document.getElementById('member-list');
        const loadingStatus = document.getElementById('loading-status');

        /**
         * å‡½å¼ï¼šå¾ Supabase è®€å–è³‡æ–™
         */
        async function fetchMembers() {
            try {
                // 2. æŸ¥è©¢ TblMember è³‡æ–™è¡¨ï¼Œåªé¸æ“‡ MemberName æ¬„ä½
                const { data, error } = await supabase
                    .from('TblMember')
                    .select('MemberName');

                if (error) {
                    console.error('è³‡æ–™è®€å–éŒ¯èª¤:', error);
                    loadingStatus.textContent = `è¼‰å…¥å¤±æ•—: ${error.message}`;
                    return;
                }
                
                // 3. æˆåŠŸè®€å–è³‡æ–™
                loadingStatus.textContent = `æˆåŠŸè®€å– ${data.length} ä½æœƒå“¡ã€‚`;

                // 4. é¡¯ç¤ºè³‡æ–™åˆ°ç¶²é ä¸Š
                if (data.length > 0) {
                    data.forEach(member => {
                        const listItem = document.createElement('li');
                        listItem.textContent = member.MemberName;
                        memberList.appendChild(listItem);
                    });
                } else {
                    memberList.innerHTML = '<li>è³‡æ–™è¡¨ä¸­æ²’æœ‰æœƒå“¡è¨˜éŒ„ã€‚</li>';
                }

            } catch (err) {
                console.error('ç™¼ç”ŸæœªçŸ¥éŒ¯èª¤:', err);
                loadingStatus.textContent = `ç™¼ç”ŸæœªçŸ¥éŒ¯èª¤: ${err.message}`;
            }
        }

        // å•Ÿå‹•å‡½å¼
        fetchMembers();

    </script>
</body>
</html>
